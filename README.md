# zuihou-admin-cloud

[![AUR](https://img.shields.io/badge/license-Apache%20License%202.0-blue.svg)](https://github.com/zuihou/zuihou-admin-cloud/blob/master/LICENSE)
[![](https://img.shields.io/badge/Author-zuihou-orange.svg)](https://github.com/zuihou/zuihou-admin-cloud)
[![](https://img.shields.io/badge/version-1.0-brightgreen.svg)](https://github.com/zuihou/zuihou-admin-cloud)
[![GitHub stars](https://img.shields.io/github/stars/zuihou/zuihou-admin-cloud.svg?style=social&label=Stars)](https://github.com/zuihou/zuihou-admin-cloud/stargazers)
[![star](https://gitee.com/zuihou111/zuihou-admin-cloud/badge/star.svg?theme=white)](https://gitee.com/zuihou111/zuihou-admin-cloud/stargazers)
[![GitHub forks](https://img.shields.io/github/forks/zuihou/zuihou-admin-cloud.svg?style=social&label=Fork)](https://github.com/zuihou/zuihou-admin-cloud/network/members)
[![fork](https://gitee.com/zuihou111/zuihou-admin-cloud/badge/fork.svg?theme=white)](https://gitee.com/zuihou111/zuihou-admin-cloud/members)


## ç®€ä»‹ï¼š
åŸºäº`SpringCloud(Greenwich.RELEASE)`  + `SpringBoot(2.1.2.RELEASE)` çš„å¾®æœåŠ¡ è„šæ‰‹æ¶ï¼Œå…·å¤‡ç”¨æˆ·ç®¡ç†ã€èµ„æºæƒé™ç®¡ç†ã€ç½‘å…³ç»Ÿä¸€é‰´æƒã€Xssé˜²è·¨ç«™æ”»å‡»ã€è‡ªåŠ¨ä»£ç ç”Ÿæˆã€å¤šå­˜å‚¨ç³»ç»Ÿã€åˆ†å¸ƒå¼äº‹åŠ¡ã€åˆ†å¸ƒå¼å®šæ—¶ä»»åŠ¡ç­‰å¤šä¸ªæ¨¡å—ï¼Œæ”¯æŒå¤šä¸šåŠ¡ç³»ç»Ÿå¹¶è¡Œå¼€å‘ï¼Œ
æ”¯æŒå¤šæœåŠ¡å¹¶è¡Œå¼€å‘ï¼Œå¯ä»¥ä½œä¸ºåç«¯æœåŠ¡çš„å¼€å‘è„šæ‰‹æ¶ã€‚ä»£ç ç®€æ´ï¼Œæ¶æ„æ¸…æ™°ï¼Œéå¸¸é€‚åˆå­¦ä¹ ä½¿ç”¨ã€‚æ ¸å¿ƒæŠ€æœ¯é‡‡ç”¨Eurekaã€Feginã€Ribbonã€Zuulã€Hystrixã€JWT Tokenã€Mybatisã€SpringBootã€Seataã€Nacosã€Sentinelã€
RibbitMQã€FastDFSç­‰ä¸»è¦æ¡†æ¶å’Œä¸­é—´ä»¶ã€‚

å¸Œæœ›èƒ½åŠªåŠ›æ‰“é€ ä¸€å¥—ä» `åŸºç¡€æ¡†æ¶` - `åˆ†å¸ƒå¼å¾®æœåŠ¡æ¶æ„` - `æŒç»­é›†æˆ` - `è‡ªåŠ¨åŒ–éƒ¨ç½²` - `ç³»ç»Ÿç›‘æµ‹` çš„è§£å†³æ–¹æ¡ˆã€‚`æœ¬é¡¹ç›®æ—¨åœ¨å®ç°åŸºç¡€èƒ½åŠ›ï¼Œä¸æ¶‰åŠå…·ä½“ä¸šåŠ¡ã€‚`

éƒ¨ç½²æ–¹é¢, å¯ä»¥é‡‡ç”¨ä»¥ä¸‹4ç§æ–¹å¼ï¼Œå¹¶ä¼šé™†ç»­å…¬å¸ƒjenkinsé›†åˆä»¥ä¸‹3ç§éƒ¨ç½²æ–¹å¼çš„è„šæœ¬å’Œé…ç½®æ–‡ä»¶ï¼š
- IDEA å¯åŠ¨
- jaréƒ¨ç½²
- dockeréƒ¨ç½² 
- k8séƒ¨ç½²

## å¦‚æœæ‚¨è§‰å¾—æœ‰å¸®åŠ©ï¼Œè¯·ç‚¹å³ä¸Šè§’ "Star" æ”¯æŒä¸€ä¸‹ï¼Œè°¢è°¢ï¼
## å¦‚æœæ‚¨ä»è¿™ä¸ªé¡¹ç›®å­¦åˆ°äº†ä¸€äº›æŠ€å·§ï¼Œè¯·å¸®å¿™å‘é€é¡¹ç›®åœ°å€ç»™æ‚¨çš„å¥½åŸºå‹ï¼Œè°¢è°¢~ğŸ˜

masteråˆ†æ”¯å·²ç»é‡‡ç”¨Nacosä½œä¸ºæ³¨å†Œ/é…ç½®ä¸­å¿ƒï¼Œ éœ€è¦eurekaç‰ˆæœ¬çš„ä»£ç ï¼Œç§»æ­¥åˆ° https://gitee.com/zuihou111/zuihou-admin-cloud ï¼Œé€‰æ‹© `Greenwich-Eureka` åˆ†æ”¯ï¼ˆä¸åœ¨æä¾›å‡çº§å’Œç»´æŠ¤ï¼‰ã€‚

## äº¤æµç¾¤ï¼š 63202894
`ä¸€é”®åŠ ç¾¤` <a target="_blank" href="http://shang.qq.com/wpa/qunwpa?idkey=489800b9d07d017fa0b5104608a4bf755f1f38276b79f0ac5e6225d0d9897efb"><img border="0" src="http://pub.idqqimg.com/wpa/images/group.png" alt="zuihou-admin-cloud äº¤æµ" title="zuihou-admin-cloud äº¤æµ"></a>

![qqç¾¤.png](docs/image/qqç¾¤.png)

## é¡¹ç›®ä»£ç åœ°å€
[gitee] https://gitee.com/zuihou111/zuihou-admin-cloud  

[github] https://github.com/zuihou/zuihou-admin-cloud  (ç”±äºæŸç§ç‰¹æ®ŠåŸå› ï¼Œä¸‹è½½ä»£ç æœ‰æ—¶éå¸¸æ…¢)

[å‰ç«¯] https://github.com/zuihou/zuihou-admin-ui   

[å‰ç«¯] https://gitee.com/zuihou111/zuihou-admin-ui 

[ä»£ç ç”Ÿæˆå™¨] https://github.com/zuihou/zuihou-generator  (æç¤ºç¼ºå°‘ zuihou-generator åŒ…ï¼Œéœ€è¦ä¸‹è½½è¯¥é¡¹ç›®ï¼Œæ‰§è¡Œç¼–è¯‘)

[åŸå‹] http://zuihou111.gitee.io/zuihou-admin-rp/

[ä»‹ç»æ–‡æ¡£] https://zuihou.github.io/zuihou-admin-cloud/

## æ¼”ç¤ºåœ°å€ (è´¦å·å¯†ç å‡ä¸ºï¼š zuihou/zuihou)       ï¼ˆæ¼”ç¤ºè´¦å·æ²¡æœ‰å†™æƒé™ï¼Œåªèƒ½æŸ¥è¯¢ï¼‰
[æ¼”ç¤ºç¯å¢ƒ] http://42.202.130.216:10000/zuihou-ui                ï¼ˆhttp://wzroom.cn/zuihou-ui å³å°†åˆ°æœŸï¼‰      

[æ³¨å†Œä¸­å¿ƒ] http://42.202.130.216:10000/nacos/      

[åœ¨çº¿æ–‡æ¡£] http://42.202.130.216:10000/api/gate/doc.html       ï¼ˆhttp://wzroom.cn/api/gate/doc.html å³å°†åˆ°æœŸï¼‰    

[å®šæ—¶ä»»åŠ¡] http://42.202.130.216:10000/zuihou-jobs-server

[ç›‘æ§ä¸­å¿ƒ] http://42.202.130.216:10000/zuihou-monitor/


## åŠŸèƒ½ç‚¹ä»‹ç»:
 - **æœåŠ¡æ³¨å†Œä¸è°ƒç”¨ï¼š**

åŸºäºEurekaæ¥å®ç°çš„æœåŠ¡æ³¨å†Œä¸è°ƒç”¨ï¼Œåœ¨Spring Cloudä¸­ä½¿ç”¨Feign, æˆ‘ä»¬å¯ä»¥åšåˆ°ä½¿ç”¨HTTPè¯·æ±‚è¿œç¨‹æœåŠ¡æ—¶èƒ½ä¸è°ƒç”¨æœ¬åœ°æ–¹æ³•ä¸€æ ·çš„ç¼–ç ä½“éªŒï¼Œå¼€å‘è€…å®Œå…¨æ„ŸçŸ¥ä¸åˆ°è¿™æ˜¯è¿œç¨‹æ–¹æ³•ï¼Œæ›´æ„ŸçŸ¥ä¸åˆ°è¿™æ˜¯ä¸ªHTTPè¯·æ±‚ã€‚

 - **æœåŠ¡é‰´æƒ:**

é€šè¿‡JWTçš„æ–¹å¼æ¥åŠ å¼ºæœåŠ¡ä¹‹é—´è°ƒåº¦çš„æƒé™éªŒè¯ï¼Œä¿è¯å†…éƒ¨æœåŠ¡çš„å®‰å…¨æ€§ã€‚

 - **è´Ÿè½½å‡è¡¡ï¼š**

å°†æœåŠ¡ä¿ç•™çš„restè¿›è¡Œä»£ç†å’Œç½‘å…³æ§åˆ¶ï¼Œé™¤äº†å¹³å¸¸ç»å¸¸ä½¿ç”¨çš„node.jsã€nginxå¤–ï¼ŒSpring Cloudç³»åˆ—çš„zuulå’Œrebbionï¼Œå¯ä»¥å¸®æˆ‘ä»¬è¿›è¡Œæ­£å¸¸çš„ç½‘å…³ç®¡æ§å’Œè´Ÿè½½å‡è¡¡ã€‚å…¶ä¸­æ‰©å±•å’Œå€Ÿé‰´å›½å¤–é¡¹ç›®çš„æ‰©å±•åŸºäºJWTçš„Zuulé™æµæ’ä»¶ï¼Œæ–¹é¢è¿›è¡Œé™æµã€‚

 - **ç†”æ–­æœºåˆ¶ï¼š**

å› ä¸ºé‡‡å–äº†æœåŠ¡çš„åˆ†å¸ƒï¼Œä¸ºäº†é¿å…æœåŠ¡ä¹‹é—´çš„è°ƒç”¨â€œé›ªå´©â€ï¼Œé‡‡ç”¨äº†Hystrixçš„ä½œä¸ºç†”æ–­å™¨ï¼Œé¿å…äº†æœåŠ¡ä¹‹é—´çš„â€œé›ªå´©â€ã€‚

 - **ç›‘æ§ï¼š**

åˆ©ç”¨Spring Boot Admin æ¥ç›‘æ§å„ä¸ªç‹¬ç«‹Serviceçš„è¿è¡ŒçŠ¶æ€ï¼›åˆ©ç”¨turbineæ¥å®æ—¶æŸ¥çœ‹æ¥å£çš„è¿è¡ŒçŠ¶æ€å’Œè°ƒç”¨é¢‘ç‡ï¼›é€šè¿‡Zipkinæ¥æŸ¥çœ‹å„ä¸ªæœåŠ¡ä¹‹é—´çš„è°ƒç”¨é“¾ç­‰ã€‚

 - **æ•°æ®æƒé™**

åˆ©ç”¨åŸºäºMybatisçš„DataScopeInterceptoræ‹¦æˆªå™¨å®ç°äº†ç®€å•çš„æ•°æ®æƒé™

- **ä¼˜é›…çš„Beanè½¬æ¢**

é‡‡ç”¨Dozerç»„ä»¶æ¥å¯¹ DTOã€DOã€POç­‰å¯¹è±¡çš„ä¼˜åŒ–è½¬æ¢

- **å‰åç«¯ç»Ÿä¸€è¡¨å•éªŒè¯**

ä¸¥è°¨çš„è¡¨å•éªŒè¯é€šå¸¸éœ€è¦ å‰ç«¯+åç«¯åŒæ—¶éªŒè¯ï¼Œ ä½†ä¼ ç»Ÿçš„é¡¹ç›®ï¼Œå‡åªèƒ½å‰åç«¯å„åšä¸€æ¬¡æ£€éªŒï¼Œ åæœŸè§„åˆ™å˜æ›´ï¼Œåˆå¾—å‰åç«¯åŒæ—¶ä¿®æ”¹ã€‚
æ•…åœ¨`hibernate-validator`çš„åŸºç¡€ä¸Šå°è£…äº†`zuihou-validator-starter`èµ·æ­¥ä¾èµ–ï¼Œæä¾›ä¸€ä¸ªé€šç”¨æ¥å£ï¼Œå¯ä»¥è·å–éœ€è¦æ ¡éªŒè¡¨å•çš„è§„åˆ™ï¼Œç„¶åå‰ç«¯ä½¿ç”¨åç«¯è¿”å›çš„è§„åˆ™ï¼Œ
ä»¥åè‹¥è§„åˆ™æ”¹å˜ï¼Œåªéœ€è¦åç«¯ä¿®æ”¹å³å¯ã€‚

- **é˜²è·¨ç«™è„šæœ¬æ”»å‡»ï¼ˆXSSï¼‰**
- **å½“å‰ç”¨æˆ·ä¿¡æ¯æ³¨å…¥å™¨**
- **åœ¨çº¿API**

ç”±äºåŸç”Ÿswagger-uiæŸäº›åŠŸèƒ½æ”¯æŒä¸å¤Ÿå‹å¥½ï¼Œæ•…é‡‡ç”¨äº†å›½å†…å¼€æºçš„`swagger-bootstrap-ui`ï¼Œå¹¶åˆ¶ä½œäº†staterï¼Œæ–¹ä¾¿springbootç”¨æˆ·ä½¿ç”¨ã€‚

- **ä»£ç ç”Ÿæˆå™¨**

åŸºäºMybatis-plus-generatorè‡ªå®šä¹‰äº†ä¸€å¥—ä»£ç ç”Ÿæˆå™¨ï¼Œ é€šè¿‡é…ç½®æ•°æ®åº“å­—æ®µçš„æ³¨é‡Šï¼Œè‡ªåŠ¨ç”Ÿæˆæšä¸¾ç±»ã€æ•°æ®å­—å…¸æ³¨è§£ã€SaveDTOã€UpdateDTOã€è¡¨å•éªŒè¯è§„åˆ™æ³¨è§£ã€Swaggeræ³¨è§£ç­‰ã€‚

- **å®šæ—¶ä»»åŠ¡è°ƒåº¦å™¨**ï¼š

åŸºäºxxl-jobsè¿›è¡Œäº†åŠŸèƒ½å¢å¼ºã€‚ï¼ˆå¦‚ï¼šæŒ‡å®šæ—¶é—´å‘é€ä»»åŠ¡ã€æ‰§è¡Œå™¨å’Œè°ƒåº¦å™¨åˆå¹¶é¡¹ç›®ã€å¤šæ•°æ®æºï¼‰

- **æ±‰åŒ– Eureka æ³¨å†Œä¸­å¿ƒé¡µé¢**

- **å¤§æ–‡ä»¶/æ–­ç‚¹/åˆ†ç‰‡ç»­ä¼ **

å‰ç«¯é‡‡ç”¨webupload.jsã€åç«¯é‡‡ç”¨NIOå®ç°äº†å¤§æ–‡ä»¶æ–­ç‚¹åˆ†ç‰‡ç»­ä¼ ï¼Œå¯åŠ¨Eurekaã€Zuulã€FileæœåŠ¡åï¼Œç›´æ¥æ‰“å¼€docs/chunkUploadDemo/demo.htmlå³å¯è¿›è¡Œæµ‹è¯•ã€‚
ç»æµ‹è¯•ï¼Œæœ¬åœ°é™åˆ¶å †æ ˆæœ€å¤§å†…å­˜128Må¯åŠ¨FileæœåŠ¡,5åˆ†é’Ÿå†…èƒ½æˆåŠŸä¸Šä¼ 4.6G+çš„å¤§æ–‡ä»¶ï¼Œæ­£å¼æœè€—æ—¶åˆ™ä¼šå—åˆ°ç”¨æˆ·å¸¦å®½å’ŒæœåŠ¡å™¨å¸¦å®½çš„å½±å“ï¼Œæ—¶é—´æ¯”è¾ƒé•¿ã€‚

- **åˆ†å¸ƒå¼äº‹åŠ¡**   
é›†æˆäº†é˜¿é‡Œçš„åˆ†å¸ƒå¼äº‹åŠ¡ä¸­é—´ä»¶ï¼šseataï¼Œä»¥ **é«˜æ•ˆ** å¹¶ä¸”å¯¹ä¸šåŠ¡ **0ä¾µå…¥** çš„æ–¹å¼ï¼Œè§£å†³ å¾®æœåŠ¡ åœºæ™¯ä¸‹é¢ä¸´çš„åˆ†å¸ƒå¼äº‹åŠ¡é—®é¢˜ã€‚
   
## é¡¹ç›®æ¶æ„å›¾:  æ¶æ„å›¾.xml -> https://www.draw.io/
![æ¶æ„å›¾.png](docs/image/é¡¹ç›®ç›¸å…³/æ¶æ„å›¾.png)

## æŠ€æœ¯æ ˆ/ç‰ˆæœ¬ä»‹ç»ï¼š
- æ‰€æ¶‰åŠçš„ç›¸å…³çš„æŠ€æœ¯æœ‰ï¼š
    - JSONåºåˆ—åŒ–:Jackson
    - æ¶ˆæ¯é˜Ÿåˆ—ï¼šRibbitMQ
    - æ•°æ®åº“ï¼š MySQL 5.7.9 (é©±åŠ¨6.0.6)
    - å®šæ—¶å™¨ï¼šé‡‡ç”¨xxl-jobsé¡¹ç›®è¿›è¡ŒäºŒæ¬¡æ”¹é€ 
    - å‰ç«¯ï¼švue 
    - æŒä¹…å±‚æ¡†æ¶ï¼š Mybatis-plus 
    - ä»£ç ç”Ÿæˆå™¨ï¼šåŸºäºMybatis-plus-generatorè‡ªå®šä¹‰  [https://github.com/zuihou/zuihou-generator.git]
    - APIç½‘å…³ï¼šZuul 
    - æœåŠ¡æ³¨å†Œä¸å‘ç°ï¼šEureka -> Nacos
    - æœåŠ¡æ¶ˆè´¹ï¼šOpenFeign
    - è´Ÿè½½å‡è¡¡ï¼šRibbon
    - é…ç½®ä¸­å¿ƒï¼šNacos
    - æœåŠ¡ç†”æ–­ï¼šHystrix
    - é¡¹ç›®æ„å»ºï¼šMaven 3.3
    - åˆ†å¸ƒå¼äº‹åŠ¡ï¼š seata
    - åˆ†å¸ƒå¼ç³»ç»Ÿçš„æµé‡é˜²å«å…µï¼š Sentinel
    - æ–‡ä»¶æœåŠ¡å™¨ï¼šFastDFS 5.0.5/é˜¿é‡Œäº‘OSS/ä¸ƒç‰›/æœ¬åœ°å­˜å‚¨
    - Nginx
- éƒ¨ç½²æ–¹é¢ï¼š
    - æœåŠ¡å™¨ï¼šCentOS
    - Jenkins
    - Docker 18.09
    - Kubernetes 1.12

æœ¬ä»£ç é‡‡ç”¨ Intellij IDEA(2018.1 EAP) æ¥ç¼–å†™ï¼Œä½†æºç ä¸å…·ä½“çš„ IDE æ— å…³ã€‚

PS: Lombokç‰ˆæœ¬è¿‡ä½ä¼šå¯¼è‡´æšä¸¾ç±»å‹çš„å‚æ•°æ— æ³•æ­£ç¡®è·å–å‚æ•°ï¼Œç»è¿‡è°ƒè¯•å‘ç°å› ä¸ºç‰ˆæœ¬å¤šä½åï¼Œå¯¼è‡´EnumDeserializerçš„ Object obj = p.getCurrentValue();å–çš„å€¼ä¸ºç©ºã€‚

## æ„Ÿè°¢ï¼š
- swagger-bootstrap-ui
- mybatis-plus
- xxl-jobs
- hutool
- guava
- ç­‰ç­‰

## çº¦å®šï¼š

- zuihou-xxx-api æ¨¡å—ä¸­æä¾›feignå®¢æˆ·ç«¯
- åŒºåˆ†poã€dtoï¼Œä¸è¦æŠŠpoä¸­çš„æ‰€æœ‰å­—æ®µéƒ½è¿”å›ç»™å‰ç«¯ã€‚ å‰ç«¯éœ€è¦ä»€ä¹ˆå­—æ®µï¼Œå°±è¿”å›ä»€ä¹ˆå­—æ®µ
- ç±»åï¼šé¦–å­—æ¯å¤§å†™é©¼å³°è§„åˆ™ï¼›æ–¹æ³•åï¼šé¦–å­—æ¯å°å†™é©¼å³°è§„åˆ™ï¼›å¸¸é‡ï¼šå…¨å¤§å†™ï¼›å˜é‡ï¼šé¦–å­—æ¯å°å†™é©¼å³°è§„åˆ™ï¼Œå°½é‡éç¼©å†™
- ä¸šåŠ¡æ¨¡å—æ¥å£å±‚å‘½åä¸º`é¡¹ç›®-ä¸šåŠ¡-api`ï¼Œå¦‚`zuihou-authority-api`
- ä¸šåŠ¡æ¨¡å—ä¸šåŠ¡å±‚å‘½åä¸º`é¡¹ç›®-ä¸šåŠ¡-biz`ï¼Œå¦‚`zuihou-authority-biz`
- ä¸šåŠ¡æ¨¡å—æ§åˆ¶å±‚å‘½åä¸º`é¡¹ç›®-ä¸šåŠ¡-controller`ï¼Œå¦‚`zuihou-authority-controller`
- ä¸šåŠ¡æ¨¡å—å®¹å™¨å‘½åä¸º`é¡¹ç›®-ä¸šåŠ¡-server`ï¼Œå¦‚`zuihou-authority-server`
- æ•°æ®è¡¨å‘½åä¸ºï¼š`å‰ç¼€_[æ¨¡å—_]è¡¨å`ï¼Œ æ¨¡å—å¯æœ‰å¯æ— ï¼Œ å¦‚`c_auth_role`ã€ `f_file`
- æ³¨é‡Šï¼š
```
è¡¨æ³¨é‡Šï¼š ç¬¬ä¸€è¡Œç”¨ç®€çŸ­çš„æ–‡å­—æ¥æè¿°è¡¨çš„åç§°ï¼Œä¼šä½“ç°åœ¨Swaggerä¸­ï¼› æ¢è¡Œåå¯¹è¡¨è¿›è¡Œè¯¦ç»†ä»‹ç»
å­—æ®µæ³¨é‡Šï¼š ç¬¬ä¸€è¡Œç”¨ç®€çŸ­çš„æ–‡å­—æ¥æè¿°å­—æ®µçš„åç§°ï¼Œä¼šä½“ç°åœ¨Swaggerçš„å­—æ®µæè¿°ä¸Šï¼› æ¢è¡Œåå¯¹å­—æ®µè¿›è¡Œè¯¦ç»†çš„æè¿°ã€‚
        å¦å¤–ï¼Œè‹¥å­—æ®µéœ€è¦ä½¿ç”¨æšä¸¾ç±»å‹ï¼Œåˆ™å­—æ®µéœ€è¦è®¾ç½®æˆvarcharç±»å‹ï¼Œ å¹¶åœ¨å­—æ®µæ³¨é‡Šä¸Šä½¿ç”¨ #æšä¸¾ç±»å‹{KEY:æè¿°;key2:æè¿°;} æ ¼å¼æ¥æè¿°æšä¸¾ç±»å‹æ ¼å¼ï¼Œ ä»£ç ç”Ÿæˆå™¨ä¼šè‡ªåŠ¨ç”Ÿæˆæšä¸¾ç±»
        eg: #LogType{OPT:æ“ä½œæ—¥å¿—;EX:å¼‚å¸¸æ—¥å¿—;}
ç±»æ³¨é‡Šï¼š ç”¨ /** å¼€å¤´çš„æ–‡æ¡£å‹æ³¨é‡Šï¼Œ å¹¶æ·»åŠ  @author @date ç­‰å‚æ•°
æ–¹æ³•æ³¨é‡Šï¼š  ç”¨ /** å¼€å¤´çš„æ–‡æ¡£å‹æ³¨é‡Šï¼Œ å¹¶æ·»åŠ  @param @return ç­‰å‚æ•°
```
- æ›´å¤šè§„èŒƒï¼Œå‚è€ƒ[é˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œ] https://gitee.com/zuihou111/zuihou-admin-cloud/attach_files

## å°æŠ€å·§
- å¤šçº¿ç¨‹ç¼–è¯‘ï¼š `clean install -T8 -DskipTests=true`
- mapperç±»ä¸Šå¢åŠ æ³¨è§£`@Repository`, é˜²æ­¢`IDEA`æç¤ºæ³¨å…¥æŠ¥é”™ã€‚
- IDEAæç¤º`@Autowired`æ³¨å…¥å¤±è´¥æ—¶ï¼Œå¯ä»¥ç”¨`@Resource` é˜²æ­¢`IDEA`æç¤ºæ³¨å…¥æŠ¥é”™ã€‚
- IDEAæäº¤ä»£ç æ—¶ï¼Œå‹¾é€‰Reformat codeã€Rearrange codeã€Optimize imports, è®©ä»£ç æ›´æ•´æ´

## æœŸå¾…æ‚¨çš„åŠ å…¥ï¼š
    1ï¼Œå‰ç«¯  ï¼ˆæ€¥éœ€ï¼ï¼åªè¦ä½ æ‡‚ç‚¹vueã€çƒ­çˆ±å¼€æºï¼Œè¯·åŠ å…¥æˆ‘ä»¬çš„é˜Ÿä¼å§ï¼‰
    2ï¼Œåç«¯
    3ï¼ŒåœŸè±ªå“¥å“¥(æ±‚èµåŠ©æœåŠ¡å™¨)
    4ï¼Œæœ‰æƒ³è¦åˆä½œæˆ–è€…èµåŠ©æœåŠ¡å™¨çš„æœ‹å‹åŠ ç¾¤ï¼ˆ63202894ï¼‰è”ç³»ç¾¤ä¸»

## å¦‚ä½•è´¡çŒ®ä»£ç     
    1ï¼ŒFork
    2ï¼Œä¿®æ”¹ä»£ç åæäº¤pr
    3ï¼Œç­‰å¾…åˆå¹¶
    4ï¼Œåˆå¹¶è¶…è¿‡5æ¬¡çš„æœ‹å‹ï¼Œç›´æ¥æ‹‰ä¸ºé¡¹ç›®å¼€å‘è€…
    
## é¡¹ç›®ç»“æ„:

```
â”œâ”€zuihou-admin-cloud
â”‚  â”‚  
â”‚  â”œâ”€docs-------------------------------------æ–‡æ¡£
â”‚  â”‚  
â”‚  â”œâ”€third-party-----------------------------ç¬¬ä¸‰æ–¹ç»„ä»¶
â”‚  â”‚  
â”‚  â”œâ”€zuihou-backend---------------------------åç«¯æœåŠ¡
â”‚  |  â”œâ”€zuihou-api----------------------------å¸¸ç”¨API
â”‚  |  â”œâ”€zuihou-authority----------------------æƒé™æœåŠ¡[æ­£åœ¨å¼€å‘]
â”‚  |  |  â”œâ”€zuihou-admin-biz-------------------æƒé™æœåŠ¡ä¸šåŠ¡æ¨¡å—
â”‚  |  |  â”œâ”€zuihou-admin-controller------------æƒé™æœåŠ¡æ¥å£æ¨¡å—
â”‚  |  |  â”œâ”€zuihou-admin-entity----------------æƒé™æœåŠ¡å®ä½“æ¨¡å—
â”‚  |  |  â”œâ”€zuihou-admin-server----------------æƒé™æœåŠ¡å¯åŠ¨æ¨¡å—
â”‚  |  â”œâ”€zuihou-config-------------------------é…ç½®ä¸­å¿ƒ
â”‚  |  â”œâ”€zuihou-demo---------------------------æ¼”ç¤ºæœåŠ¡
â”‚  |  â”œâ”€zuihou-file---------------------------æ–‡ä»¶æ¨¡å—æœåŠ¡[å®Œæˆ]
â”‚  |  â”œâ”€zuihou-gateway------------------------ç»Ÿä¸€ç½‘å…³è´Ÿè½½ä¸­å¿ƒ
â”‚  |  |  |â”€zuihou-gateway-server--------------gatewayç½‘å…³å¯åŠ¨æ¨¡å—
â”‚  |  |  |â”€zuihou-zuul-authentication---------zuulç½‘å…³æƒé™æ§åˆ¶æ¨¡å—
â”‚  |  |  |â”€zuihou-zuul-base-------------------zuulç½‘å…³å…¬å…±æ¨¡å—
â”‚  |  |  |â”€zuihou-zuul-ratelimit--------------zuulç½‘å…³é™æµæ¨¡å—
â”‚  |  |  |â”€zuihou-zuul-server-----------------zuulç½‘å…³å¯åŠ¨æ¨¡å—
â”‚  |  â”œâ”€zuihou-jobs---------------------------å®šæ—¶ä»»åŠ¡è°ƒåº¦æ‰§è¡Œå™¨[å®Œæˆ]
â”‚  |  â”œâ”€zuihou-msgs---------------------------æ¶ˆæ¯æ¨¡å—æœåŠ¡[å®Œæˆ]
â”‚  |  â”œâ”€zuihou-order--------------------------è®¢å•æœåŠ¡
â”‚  â”‚ 
â”‚  â”œâ”€zuihou-commons--------------------------å…¬å…±æ¨¡å—   
â”‚  |  â”œâ”€zuihou-cache-starter-----------------ç¼“å­˜æ¨¡å—
â”‚  |  â”œâ”€zuihou-common------------------------é¡¹ç›®ä¸šåŠ¡æ¨¡å— ï¼ˆä¸šåŠ¡æ¨¡å—ä¸»è¦ç”¨äºå­˜æ”¾å¯èƒ½è·Ÿä¸šåŠ¡ç›¸å…³çš„å…¬å…±ä»£ç ï¼‰
â”‚  |  â”œâ”€zuihou-core--------------------------é¡¹ç›®æ ¸å¿ƒæ¨¡å— ï¼ˆæ ¸å¿ƒæ¨¡å—å­˜æ”¾æ— ä¸šåŠ¡é€»è¾‘çš„å…¬å…±ä»£ç ï¼‰
â”‚  |  â”œâ”€zuihou-databases---------------------é¡¹ç›®æ•°æ®æºé…ç½®æ¨¡å—
â”‚  |  â”œâ”€zuihou-dozer-starter-----------------ä¼˜é›…çš„beanè½¬æ¢èµ·æ­¥ä¾èµ–
â”‚  |  â”œâ”€zuihou-jwt-starter-------------------JWTèµ·æ­¥ä¾èµ–
â”‚  |  â”œâ”€zuihou-log-starter-------------------æ“ä½œæ—¥å¿—èµ·æ­¥ä¾èµ–
â”‚  |  â”œâ”€zuihou-openfeign-starter-------------OpenFeignå¸¸ç”¨é…ç½®èµ·æ­¥ä¾èµ–
â”‚  |  â”œâ”€zuihou-shiro-starter-----------------shiroèµ·æ­¥ä¾èµ–
â”‚  |  â”œâ”€zuihou-swagger2-starter--------------SwaggerUIæ–‡æ¡£é…ç½®
â”‚  |  â”œâ”€zuihou-user-starter------------------ç”¨æˆ·ä¿¡æ¯è‡ªåŠ¨æ³¨å…¥èµ·æ­¥ä¾èµ–
â”‚  |  â”œâ”€zuihou-validator-starter-------------å¢å¼ºè¡¨å•å‰åç«¯ç»Ÿä¸€éªŒè¯èµ·æ­¥ä¾èµ–
â”‚  |  â”œâ”€zuihou-xss-starter-------------------é˜²XSSèµ·æ­¥ä¾èµ–
â”‚  â”‚ 
â”‚  â”œâ”€zuihou-dependencies----------------------é¡¹ç›®é¡¶çº§pom
â”‚  â”‚ 
â”‚  â”œâ”€zuihou-support---------------------------æœåŠ¡æ¨¡å—
â”‚  |  â”œâ”€zuihou-eureka-------------------------æ³¨å†Œä¸­å¿ƒ[å·²åºŸå¼ƒ]
â”‚  |  â”œâ”€zuihou-monitor------------------------spring-boot-adminç›‘æ§ä¸­å¿ƒ[å·²å¼€å‘]
â”‚  |  â”œâ”€zuihou-zipkin-------------------------zipkinåˆ†å¸ƒå¼é“¾è·¯è·Ÿè¸ª[å·²åºŸå¼ƒ]
â”‚  â”‚
â”‚  â”‚-...
```

## ç¯å¢ƒé¡»çŸ¥ï¼š

- nginx (æ–‡ä»¶ä¸‹è½½ã€é¢„è§ˆæ—¶éœ€è¦ä½¿ç”¨)
- mysql 5.7.9+
- JDK8
- IDEæ’ä»¶ä¸€ä¸ª(Eclipse, IDEAéƒ½éœ€è¦å®‰è£…æ’ä»¶)ï¼Œ`lombokæ’ä»¶`


## è¿è¡Œæ­¥éª¤: 
- 1, ä¾æ¬¡è¿è¡Œæ•°æ®åº“è„šæœ¬(å¼€å‘é˜¶æ®µï¼Œæ•°æ®åº“è„šæœ¬å¯èƒ½æ›´æ–°ä¸åŠæ—¶ï¼Œæœ‰é—®é¢˜githubã€giteeä¸Šç•™è¨€ï¼Œ ä¼šç¬¬ä¸€æ¬¡æ—¶é—´åŒæ­¥)ï¼š
    - docs/1_create_schema.sql                  # åˆ›å»ºæ•°æ®åº“
    - docs/sql/zuihou_authority_dev.sql         # å¯¼å…¥æƒé™åº“è¡¨ç»“æ„å’Œæ•°æ®  (æ–‡ä»¶å å°±æ˜¯åº“å)
    - docs/sql/c_common_area.sql                # å‘(zuihou_authority_devåº“)å¯¼å…¥åœ°åŒºè¡¨ç»“æ„å’Œæ•°æ®  
    - docs/sql/zuihou_file_dev.sql              # å¯¼å…¥æ–‡ä»¶æœåŠ¡è¡¨ç»“æ„å’Œæ•°æ®
    - docs/sql/zuihou_jobs_dev.sql              # å¯¼å…¥å®šæ—¶ä»»åŠ¡åº“è¡¨ç»“æ„å’Œæ•°æ®
    - docs/sql/zuihou_msgs_dev.sql              # å¯¼å…¥æ¶ˆæ¯æœåŠ¡è¡¨ç»“æ„å’Œæ•°æ®    
    - docs/sql/zuihou_demo_dev.sql              # å¯¼å…¥demoæœåŠ¡è¡¨ç»“æ„å’Œæ•°æ®     

- 2, å¯åŠ¨ nacosï¼Œæ–°å¢å‘½åç©ºé—´ - `zuihou`ï¼Œå¹¶è®°å½•ä¸‹è‡ªå·±æ–°å¢çš„å‘½åç©ºé—´ID
- 3ï¼Œå°†è¯¥æ˜ç©ºç©ºé—´IDå¤åˆ¶åˆ°é¡¹ç›®ï¼š `zuihou-dependencies/pom.xml` - `<pom.nacos.namespace>ä½ åˆšæ‰å¤åˆ¶çš„å‘½åID</pom.nacos.namespace>` ï¼ŒåŒæ—¶åœ¨pom.xmlä¸­å°†nacosçš„ipå’Œç«¯å£ä¿®æ”¹æˆè‡ªå·±çš„ã€‚
- 4ï¼Œåœ¨nacosä¸­ï¼Œç‚¹å‡»`é…ç½®ä¸­å¿ƒ`- åˆ‡æ¢åˆ°`zuihou` - å¯¼å…¥ zuihou-backend/zuihou-config/src/main/resources ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå…·ä½“æ“ä½œçœ‹ third-party/README.md
- 5, åœ¨nacosä¸­ä¿®æ”¹ redis.ymlã€mysql.yml
- 6, mac/linux åœ¨å¯åŠ¨é¡¹ç›®ä¹‹å‰å…ˆåˆ›å»ºæ—¥å¿—æ–‡ä»¶å¤¹
```
mkdir -p /data/projects/logs

chown -R $USER:$USER /data/projects/logs     # linux 
chown -R $USER:wheel /data/projects/logs     # mac  
```
- 7ï¼Œ window åœ¨é¡¹ç›®å¯åŠ¨å‰ï¼Œåœ¨ä»£ç æ‰€åœ¨çš„ç›˜åˆ›å»ºï¼šD:/data/projectsã€‚  å¦‚ï¼š D:/data/projects
- 8ï¼Œç¼–è¯‘é¡¹ç›®ï¼š` clean install -DskipTests=true -T8 -P dev -f pom.xml ` (è¿™ä¸€æ­¥å¾ˆé‡è¦ï¼Œå°¤å…¶æ˜¯åœ¨IDEAä¸­å¯åŠ¨é¡¹ç›®)
- 9ï¼Œåœ¨IDEä¸­å¯åŠ¨ï¼Œç¼–è¯‘é€šè¿‡åæŒ‰å¦‚ä¸‹é¡ºåºå¯åŠ¨ï¼š
    - Nacos                 
    - AuthorityApplication     
    - ZuulServerApplication   
    - FileServerApplication (å¯é€‰)
    - MsgsServerApplication (å¯é€‰)
    - JobsServerApplication (å¯é€‰)
    - MonitorApplication    (å¯é€‰)
    - å¯åŠ¨seata              (å¯é€‰ï¼Œè‹¥è¦æµ‹è¯•åˆ†å¸ƒå¼äº‹åŠ¡åˆ™ä¸€å®šè¦åœ¨nacoså¯åŠ¨åï¼Œåœ¨å¯åŠ¨seata-server)(è¯¦æƒ…å‚è€ƒthird-party/README.md)
    - OrderServerApplication (å¯é€‰)
    - DemoServerApplication (å¯é€‰)
    - å‰ç«¯å¯åŠ¨ï¼Œå‚è€ƒ [å‰ç«¯] (https://github.com/zuihou/zuihou-admin-ui?_blank)

- 10ï¼Œ å¯åŠ¨å®Œæ¯•ï¼Œå°±å¯ä»¥æµ‹è¯•äº†ã€‚æ¯ä¸ªæœåŠ¡éƒ½èƒ½è®¿é—®å„è‡ªçš„swaggeræ–‡æ¡£ï¼Œ ç„¶ååœ¨ç½‘å…³æœ‰ä¸€ä¸ªèšåˆæ–‡æ¡£ï¼ˆèƒ½çœ‹åˆ°æ‰€æœ‰æœåŠ¡çš„æ¥å£ï¼‰ã€‚

è®¿é—®ï¼š  http://127.0.0.1:8760/api/gate/doc.html ï¼Œåˆ‡æ¢ï¼ˆå·¦ä¸Šè§’ï¼‰åˆ° `authority-æƒé™æ¨¡å—`  -  `ç™»å½•` - `ç™»å½•` è¾“å…¥è´¦å·å¯†ç (`zuihou/zuihou`) ç”¨äºç”Ÿæˆtoken

ç„¶åå°†tokenå¤åˆ¶åˆ° `Authorize` - å¡«åˆ° token çš„value æ¡†ï¼Œ ä¿å­˜ååˆ·æ–°ä¸€ä¸‹é¡µé¢ï¼Œ ç„¶åè°ƒç”¨å…¶ä»–æ¥å£å³èƒ½æ­£ç¡®ä¼ é€’tokenåˆ°åç«¯ã€‚

å¼€å‘å°æŠ€å·§ï¼š è¿™é‡Œtoken æœ‰ä¸€ä¸ªé»˜è®¤å€¼`test` ï¼Œç”¨äºå¼€å‘ç¯å¢ƒæµ‹è¯•æ—¶ä½¿ç”¨ ï¼ˆè¯¦è§ï¼šTokenContextFilterï¼‰ã€‚

```
# æ³¨æ„ï¼š swagger æ–‡æ¡£ åªèƒ½ç”¨è°·æ­Œæµè§ˆå™¨æ‰“å¼€ï¼ï¼ï¼ åªèƒ½ç”¨è°·æ­Œæµè§ˆå™¨æ‰“å¼€ï¼ï¼ï¼åªèƒ½ç”¨è°·æ­Œæµè§ˆå™¨æ‰“å¼€ï¼ï¼ï¼
æƒé™æœåŠ¡ï¼š http://127.0.0.1:8764/doc.html
æ–‡ä»¶æœåŠ¡:  http://127.0.0.1:8765/doc.html
æ¶ˆæ¯æœåŠ¡ï¼š http://127.0.0.1:8768/doc.html
ç½‘å…³ï¼š    http://127.0.0.1:8760/api/gate/doc.html
å®šæ—¶ï¼š    http://127.0.0.1:8767/zuihou-jobs-server/toLogin
```
![swaggerè·å–token.jpg](docs/image/é¡¹ç›®ç›¸å…³/swaggerè·å–token.jpg)
![swaggerè·å–token.jpg](docs/image/é¡¹ç›®ç›¸å…³/swaggerè®¾ç½®token.png)

## ç«¯å£å·ä»‹ç» :

| æœåŠ¡ | ç«¯å£å· |
|:----:|:----:|
| zuihou-eureka | 8761 |  â€‹
| zuihou-zipkin | 8767 |  â€‹ 
| zuihou-monitor | 8762,8763 |  â€‹
| - | - |â€‹- | â€‹
| zuihou-gateway-server | 8760 |  â€‹
| zuihou-authority-server | 8764 |  â€‹
| zuihou-file-server | 8765 |  â€‹
| zuihou-msgs-server | 8766 |  â€‹
| zuihou-jobs-server | 8767/8768 |  â€‹
| zuihou-demo-server | 8769 |  â€‹
| zuihou-order-server | 8779 |  â€‹


## é¡¹ç›®æˆªå›¾ï¼š
spring-boot-adminç›‘æ§ç•Œé¢:
![SBAç›‘æ§.png](docs/image/ç›‘æ§ç•Œé¢/sba-1.png)
spring-boot-adminç›‘æ§ç•Œé¢:
![SBAç›‘æ§.png](docs/image/ç›‘æ§ç•Œé¢/sba-2.png)
API ç•Œé¢:
![admin-api.png](docs/image/é¡¹ç›®ç›¸å…³/admin-api.png)
æ³¨å†Œä¸­å¿ƒç•Œé¢:
![eurekaæ³¨å†Œä¸­å¿ƒç•Œé¢.png](docs/image/é¡¹ç›®ç›¸å…³/eureka.png)
å®šæ—¶ä»»åŠ¡è°ƒåº¦ç•Œé¢:
![eurekaæ³¨å†Œä¸­å¿ƒç•Œé¢.png](docs/image/é¡¹ç›®ç›¸å…³/zuihou-jobs-server.png)

## å¸¸è§é—®é¢˜ï¼š
 - 1, å¾ˆå¤šä¾èµ–æ­»æ´»éƒ½ä¸‹è½½ä¸ä¸‹æ¥ï¼Ÿ
    - ç­”ï¼š ç”±äºspring-bootå’Œspring-cloudç­‰ç‰ˆæœ¬æ¯”è¾ƒæ–°ï¼Œæ‰€ä»¥ç›®å‰å›½å†…çš„ä¸€äº›ä»“åº“è¿˜æ²¡æœ‰æ–°ç‰ˆæœ¬çš„jarã€‚
    éœ€è¦é…ç½®springçš„mavenä»“åº“ã€‚ ï¼ˆé…ç½®åè¿˜æ˜¯æ— æ³•ä¸‹è½½ï¼Œå°±å…ˆæ³¨é‡Šæ‰settings.xmlä¸­å…¶ä»–çš„ä»“åº“ï¼Œåªä¿ç•™è¿™ä¸ªï¼‰
```
    <mirror>
        <id>spring-milestones</id>
        <name>Spring Milestones</name>
        <url>https://repo.spring.io/libs-milestone</url>
        <mirrorOf>central</mirrorOf>
    </mirror>
```
 - 2, å¾ˆå¤šç±»ç¼ºå°‘get/setæ–¹æ³•ï¼Ÿ
    - ç­”ï¼šè¯·ç”¨IDEAæˆ–Eclipseå®‰è£…`lombok`æ’ä»¶
    
 - 3, zuihou-generator jarç¼ºå¤±ï¼Ÿ
    - ç­”ï¼š https://github.com/zuihou/zuihou-generator ã€‚å»æˆ‘githubä¸‹è½½è¿™ä¸ªé¡¹ç›®ï¼Œè‡ªè¡Œç¼–è¯‘ã€‚
    
 - 4, ä¸ºå•¥è¦å°†è°ƒåº¦å™¨å’Œæ‰§è¡Œå™¨åˆå¹¶åœ¨ä¸€èµ·ï¼Ÿ
     - ç­”ï¼š å¯¹äºä¸­å°å‹é¡¹ç›®ï¼Œå¯¹é«˜å¯ç”¨çš„éœ€æ±‚å¹¶ä¸æ˜¯å¾ˆå¤§ï¼Œè‹¥æŠŠè°ƒåº¦å™¨å’Œæ‰§è¡Œå™¨åˆ†å¼€éƒ¨ç½²ï¼Œä¼šå¢åŠ éƒ¨ç½²æˆæœ¬ã€‚    
 
 - 5, å°†é…ç½®æ–‡ä»¶å¯¼å…¥åˆ°nacosåï¼Œå¯åŠ¨è§£ææ–‡ä»¶æŠ¥é”™ï¼Ÿ
    - ç­”ï¼š å°†é…ç½®æ–‡ä»¶ä¸­çš„æ‰€æœ‰æ³¨é‡Šï¼Œä»¥åŠä¸­æ–‡åˆ é™¤æ”¹æˆè‹±æ–‡
    
 - 6ï¼Œ å¯åŠ¨zuihou-jobs-serveræŠ¥æ‰¾ä¸åˆ°è¡¨çš„é”™ï¼Œ ä½†æ•°æ®åº“ä¸­ç¡®å®æœ‰è¡¨ï¼Œåªæ˜¯è¡¨åå…¨æ˜¯å°å†™ï¼Ÿ    
    - ç­”ï¼š 1ï¼‰ SHOW VARIABLES LIKE '%case%'; æŸ¥çœ‹ lower_case_table_names æ˜¯å¦=2  
            2ï¼‰ ä¿®æ”¹my.cnf(my.ini) æ–‡ä»¶å¢åŠ   ï¼š
       ```
      [mysqld]
      lower_case_table_names=2
      ```     


## æŸ¥çœ‹ç£ç›˜ç©ºé—´å ç”¨
df -h
## æŸ¥çœ‹å½“å‰ç›®å½•çš„ç£ç›˜å ç”¨
du -ah --max-depth=1
     
## å†™åœ¨æœ€åï¼š
    æœ¬é¡¹ç›®æ­£åœ¨å¼€å‘é˜¶æ®µï¼Œç”±äºç ä¸»ç™½å¤©è¦ä¸Šç­ï¼Œåªæœ‰æ™šä¸Šã€å‘¨æœ«èƒ½æŒ¤ç‚¹æ—¶é—´æ¥æ•²æ•²ä»£ç ï¼Œæ‰€ä»¥è¿›åº¦å¯èƒ½æ¯”è¾ƒæ…¢ï¼Œæ–‡æ¡£ã€æ³¨é‡Šä¹Ÿä¸é½å…¨ã€‚ 
    å„ä½å¤§ä¾ å°±å°†å°±ç€çœ‹ï¼Œä½†éšç€æ—¶é—´çš„æ¨ç§»ã€‚æ–‡æ¡£ï¼Œæ³¨é‡Šï¼Œå¯åŠ¨è¯´æ˜ç­‰ç ä¸»æˆ‘ä¸€å®šä¼šè¡¥å…¨çš„ï¼ˆå¯¹è‡ªå·±è´Ÿè´£ï¼Œä¹Ÿæ˜¯å¯¹å¤§å®¶è´Ÿè´£ï¼‰ã€‚   
